{"mappings":"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","sources":["src/public/js/script.js"],"sourcesContent":["var scene,\n  camera,\n  controls,\n  fieldOfView,\n  aspectRatio,\n  nearPlane,\n  farPlane,\n  shadowLight,\n  backLight,\n  light,\n  renderer,\n  planeAspectRatio,\n  container;\n\n//SCENE\nvar floor,\n  fan,\n  isBlowing = false;\n//SCREEN VARIABLES\nvar HEIGHT,\n  WIDTH,\n  windowHalfX,\n  windowHalfY,\n  mousePos = { x: 0, y: 0 };\nvar dist = 0;\n\n//INIT THREE JS, SCREEN AND MOUSE EVENTS\n\nfunction init() {\n  scene = new THREE.Scene();\n  HEIGHT = window.innerHeight;\n  WIDTH = window.innerWidth;\n  aspectRatio = WIDTH / HEIGHT;\n  fieldOfView = 100;\n  nearPlane = 10;\n  farPlane = 1000;\n  planeAspectRatio = 16 / 9;\n  camera = new THREE.PerspectiveCamera(\n    fieldOfView,\n    aspectRatio,\n    nearPlane,\n    farPlane\n  );\n  fieldOfView = 50;\n  camera.aspect = window.innerWidth / window.innerHeight;\n  if (camera.aspect > planeAspectRatio) {\n    // window too large\n    const cameraHeight = Math.tan(THREE.MathUtils.degToRad(fieldOfView / 2));\n    const ratio = camera.aspect / planeAspectRatio;\n    const newCameraHeight = cameraHeight / ratio;\n    camera.fov = THREE.MathUtils.radToDeg(Math.atan(newCameraHeight)) * 2;\n  } else {\n    // window too narrow\n    camera.fov = fieldOfView;\n  }\n//Make the camera focus on the center of the scene\ncamera.position.y = 350;\ncamera.position.x = -50;\ncamera.position.z = 215;\ncamera.lookAt(new THREE.Vector3(0, 80, 60));\n  renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(WIDTH, HEIGHT);\n  renderer.shadowMap.enabled = true;\n  container = document.getElementById(\"world\");\n  container.appendChild(renderer.domElement);\n  windowHalfX = WIDTH / 2;\n  windowHalfY = HEIGHT / 2;\n}\n\nwindow.addEventListener(\"resize\", () => {\n  camera.aspect = window.innerWidth / window.innerHeight;\n\n  if (camera.aspect > planeAspectRatio) {\n    // window too large\n    const cameraHeight = Math.tan(THREE.MathUtils.degToRad(fieldOfView / 2));\n    const ratio = camera.aspect / planeAspectRatio;\n    const newCameraHeight = cameraHeight / ratio;\n    camera.fieldOfView =\n      THREE.MathUtils.radToDeg(Math.atan(newCameraHeight)) * 2;\n  } else {\n    // window too narrow\n    camera.fieldOfView = fieldOfView;\n  }\n});\n\nfunction createLights() {\n  light = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.5);\n\n  shadowLight = new THREE.DirectionalLight(0xffffff, 0.8);\n  shadowLight.position.set(200, 200, 200);\n  shadowLight.castShadow = true;\n  shadowLight.shadowDarkness = 0.2;\n\n  backLight = new THREE.DirectionalLight(0xffffff, 0.4);\n  backLight.position.set(-100, 200, 50);\n  backLight.shadowDarkness = 0.1;\n  backLight.castShadow = true;\n\n  scene.add(backLight);\n  scene.add(light);\n  scene.add(shadowLight);\n}\n\nfunction createFan() {\n  fan = new Fan();\n  fan.threegroup.position.z = 100;\n  fan.threegroup.position.y = 50;\n  scene.add(fan.threegroup);\n}\n\nFan = function () {\n  this.isBlowing = false;\n  this.speed = 0;\n  this.acc = 0;\n  this.redMat = new THREE.MeshLambertMaterial({\n    color: 0xad3525,\n    shading: THREE.FlatShading,\n  });\n  this.greyMat = new THREE.MeshLambertMaterial({\n    color: 0x653f4c,\n    shading: THREE.FlatShading,\n  });\n\n  this.yellowMat = new THREE.MeshLambertMaterial({\n    color: 0xfdd276,\n    shading: THREE.FlatShading,\n  });\n\n  var coreGeom = new THREE.BoxGeometry(10, 10, 20);\n  var sphereGeom = new THREE.BoxGeometry(10, 10, 3);\n  var propGeom = new THREE.BoxGeometry(10, 30, 2);\n  propGeom.applyMatrix4(new THREE.Matrix4().makeTranslation(0, 25, 0));\n\n  this.core = new THREE.Mesh(coreGeom, this.greyMat);\n\n  // propellers\n  var prop1 = new THREE.Mesh(propGeom, this.redMat);\n  prop1.position.z = 15;\n  var prop2 = prop1.clone();\n  prop2.rotation.z = Math.PI / 2;\n  var prop3 = prop1.clone();\n  prop3.rotation.z = Math.PI;\n  var prop4 = prop1.clone();\n  prop4.rotation.z = -Math.PI / 2;\n\n  this.sphere = new THREE.Mesh(sphereGeom, this.yellowMat);\n  this.sphere.position.z = 15;\n\n  this.propeller = new THREE.Group();\n  this.propeller.add(prop1);\n  this.propeller.add(prop2);\n  this.propeller.add(prop3);\n  this.propeller.add(prop4);\n\n  this.threegroup = new THREE.Group();\n  this.threegroup.add(this.core);\n  this.threegroup.add(this.propeller);\n  this.threegroup.add(this.sphere);\n};\n\nFan.prototype.update = function (xTarget, yTarget) {\n  this.threegroup.lookAt(new THREE.Vector3(0, 80, 60));\n  this.tPosX = rule3(xTarget, -200, 200, -250, 250);\n  this.tPosY = rule3(yTarget, -200, 200, 250, -250);\n\n  this.threegroup.position.x += (this.tPosX - this.threegroup.position.x) / 10;\n  this.threegroup.position.y += (this.tPosY - this.threegroup.position.y) / 10;\n\n  this.targetSpeed = this.isBlowing ? 0.3 : 0.01;\n  if (this.isBlowing && this.speed < 0.5) {\n    this.acc += 0.001;\n    this.speed += this.acc;\n  } else if (!this.isBlowing) {\n    this.acc = 0;\n    this.speed *= 0.98;\n  }\n  this.propeller.rotation.z += this.speed;\n};\nfunction loop() {\n  render();\n  var xTarget = mousePos.x - windowHalfX;\n  var yTarget = mousePos.y - windowHalfY;\n\n  fan.isBlowing = isBlowing;\n  fan.update(xTarget, yTarget);\n  requestAnimationFrame(loop);\n}\n\nfunction render() {\n  if (controls) controls.update();\n  renderer.render(scene, camera);\n}\n\ninit();\ncreateLights();\ncreateFan();\n/*\n *Make the camera focus on the fan\n*/\n\nloop();\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nfunction rule3(v, vmin, vmax, tmin, tmax) {\n  var nv = Math.max(Math.min(v, vmax), vmin);\n  var dv = vmax - vmin;\n  var pc = (nv - vmin) / dv;\n  var dt = tmax - tmin;\n  var tv = tmin + pc * dt;\n  return tv;\n}\n\nclass RangeSlider {\n\tconstructor(element, settings) {\n\t\tthis.settings = Object.assign({\n\t\t\tclsCircular: 'c-rng--circular',\n\t\t\tclsCircularOutput: 'c-rng--circular-output',\n\t\t\tclsOutput: 'c-rng__output',\n\t\t\tclsOutputWrapper: 'c-rng--output',\n\t\t\tclsRangeTicks: 'c-rng--ticks',\n\t\t\tclsWrapper: 'c-rng__wrapper',\n\t\t\toffset: -90,\n\t\t\tvarPercent: '--rng-percent',\n\t\t\tvarPercentUpper: '--rng-percent-upper',\n\t\t\tvarThumb: '--rng-thumb-w',\n\t\t\tvarUnit: '--rng-unit',\n\t\t\tvarValue: '--rng-value'\n\t\t}, stringToType(settings));\n\n\t\tthis.range = element;\n\t\tthis.initRange(this.range);\n\t}\n\n\t/**\n\t* @function initRange\n\t* @param {Node} range\n\t* @description Initialize: Create elements, add eventListeners etc.\n\t*/\n\tinitRange(range) {\n\t\tconst circular = this.settings.range.includes('circular');\n\t\trange.id = range.id || uuid();\n\n\t\tthis.lower = this.settings.range.includes('upper') ? range.parentNode.querySelector(`[data-range*=\"lower\"]`) : null;\n\t\tthis.max = parseInt(range.max, 10) || 100;\n\t\tthis.min = parseInt(range.min, 10);\n\t\tthis.multiplier = 100 / (this.max - this.min);\n\t\tthis.output = this.settings.range.includes('output') || circular ? document.createElement('output') : null;\n\t\tthis.ticks = parseInt(range.dataset.ticks, 10);\n\t\tthis.upper = this.settings.range.includes('lower') ? range.parentNode.querySelector(`[data-range*=\"upper\"]`) : null;\n\t\tconst isMulti = (this.lower || this.upper);\n\t\tthis.wrapper = isMulti ? range.parentNode : document.createElement('div');\n\n\t\t/* output */\n\t\tif (this.output) {\n\t\t\tthis.output.className = circular ? this.settings.clsCircularOutput : this.settings.clsOutput;\n\t\t\tthis.output.for = range.id;\n\n\t\t\tif (isMulti) {\n\t\t\t\tthis.wrapper.insertBefore(this.output, range);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.wrapper.classList.add(circular ? this.settings.clsCircular : this.settings.clsOutputWrapper);\n\t\t\t\tthis.wrapper.appendChild(this.output);\n\t\t\t}\n\t\t}\n\n\t\t/* wrapper */\n\t\tif (!isMulti) { \n\t\t\trange.parentNode.insertBefore(this.wrapper, range);\n\t\t\tthis.wrapper.appendChild(range);\n\t\t}\n\t\tif (range.dataset.modifier) {\n\t\t\tthis.wrapper.classList.add(range.dataset.modifier)\n\t\t}\n\n\t\tthis.wrapper.classList.add(this.settings.clsWrapper);\n\t\tthis.wrapper.style.setProperty(this.settings.varThumb, getComputedStyle(range).getPropertyValue(this.settings.varThumb));\n\n\t\t/* ticks */\n\t\tif (this.ticks) {\n\t\t\tconst ticks = [...Array(this.ticks).keys()];\n\t\t\tconst svg = `\n\t\t\t\t<svg class=\"${this.settings.clsRangeTicks}\" width=\"100%\" height=\"100%\">\n\t\t\t\t${ticks.map((index) => {\n\t\t\t\t\treturn `<rect x=\"${(100 / this.ticks) * index}%\" y=\"5\" width=\"1\" height=\"100%\"></rect>`}).join('')\n\t\t\t\t}\n\t\t\t\t<rect x=\"100%\" y=\"5\" width=\"1\" height=\"100%\"></rect>\n\t\t\t</svg>`;\n\t\t\tthis.wrapper.insertAdjacentHTML('afterbegin', svg);\n\t\t}\n\n\t\t/* circular */\n\t\tif (circular) {\n\t\t\trange.hidden = true;\n\t\t\tconst pointerMove = (event) => { return this.updateCircle(this.rotate(event.pageX, event.pageY)) };\n\t\t\tthis.setCenter();\n\t\t\tthis.output.setAttribute('tabindex', 0);\n\t\t\tthis.output.addEventListener('keydown', (event) => {\n\t\t\t\tswitch(event.key) {\n\t\t\t\t\tcase 'ArrowLeft': case 'ArrowDown': event.preventDefault(); this.range.stepDown(); this.updateCircle(); break;\n\t\t\t\t\tcase 'ArrowRight': case 'ArrowUp': event.preventDefault(); this.range.stepUp(); this.updateCircle(); break;\n\t\t\t\t\tdefault: break;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.output.addEventListener('pointerdown', () => {return this.output.addEventListener('pointermove', pointerMove)});\n\t\t\tthis.output.addEventListener('pointerup', () => {return this.output.removeEventListener('pointermove', pointerMove)});\n\n\t\t\tthis.updateCircle();\n\t\t}\n\t\telse {\n\t\t\trange.addEventListener('input', () => {return this.updateRange()});\n\t\t}\n\n\t\t/* TODO: Send init event ? */\n\t\trange.dispatchEvent(new Event('input'));\n\t}\n\n\t/**\n\t* @function rotate\n\t* @param {Number} x\n\t* @param {Number} y\n\t* @description  Returns angle from center of circle to current mouse x and y\n\t*/\n\trotate(x, y) {\n\t\treturn Math.atan2(y - this.center.y, x - this.center.x) * 180 / Math.PI\n\t}\n\n\t/**\n\t* @function setCenter\n\t* @description Calculates center of circular range\n\t*/\n\tsetCenter() {\n\t\tconst rect = this.wrapper.getBoundingClientRect();\n\t\tthis.center = {\n\t\t\tx: rect.left + rect.width / 2,\n\t\t\ty: rect.top + rect.height / 2\n\t\t}\n\t}\n\tgetSpeed(){\n\t\treturn this.range.value;\n\t}\n\t/**\n\t* @function updateCircle\n\t* @param {Number} start\n\t* @description  Updates CSS Custom Props/coniuc-gradient when circular-input is modified\n\t*/\n\tupdateCircle(start) {\n\t\tlet angle = start;\n\t\tlet rad = 360 / (this.max - this.min);\n\t\tif (!angle) {angle = rad * this.range.valueAsNumber + this.settings.offset;}\n\t\tlet end = angle - this.settings.offset;\n\t\tif (end < 0) {end = end + 360;}\n\t\tif (start) {this.range.value = Math.ceil(end / rad);}\n\t\tthis.wrapper.dataset.value = this.range.value;\n\t\tdocument.getElementById('auto').checked = false;\n\t\tthis.wrapper.style.setProperty('--angle', `${angle}deg`);\n\t\tthis.wrapper.style.setProperty('--gradient-end', `${end}deg`);\n\t}\n\n\t/**\n\t* @function updateRange\n\t* @description Updates CSS Custom Props when range-input is modified\n\t*/\n\tupdateRange() {\n\t\tif (this.lower) { /* Active is `upper` */\n\t\t\tif (this.lower.valueAsNumber > this.range.valueAsNumber) {\n\t\t\t\tthis.range.value = this.lower.valueAsNumber;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (this.upper) { /* Active is `lower` */\n\t\t\tif (this.upper.valueAsNumber < this.range.valueAsNumber) {\n\t\t\t\tthis.range.value = this.upper.valueAsNumber;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst value = (this.range.valueAsNumber - this.min) * this.multiplier;\n\t\tthis.range.style.setProperty(this.settings.varPercent, `${value}%`);\n\t\tthis.range.style.setProperty(this.settings.varValue, `${this.range.valueAsNumber}`);\n\t\t\n\t\tif (this.lower) {\n\t\t\tthis.lower.style.setProperty(this.settings.varPercentUpper, `${value}%`);\n\t\t}\n\n\t\tif (this.output) {\n\t\t\tthis.output.style.setProperty(this.settings.varUnit, `${value}`);\n\t\t\tthis.output.innerText = this.range.value;\n\t\t}\n\t}\n}\n\n/* Helper methods */\nfunction stringToType(obj) {\n\tconst object = Object.assign({}, obj);\n\tObject.keys(object).forEach(key => {\n\t\tif (typeof object[key] === 'string' && object[key].charAt(0) === ':') {\n\t\t\tobject[key] = JSON.parse(object[key].slice(1));\n\t\t}\n\t});\n\treturn object;\n}\n\nfunction uuid() {\n\treturn ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n\t\t{return (\n\t\t\tc ^\n\t\t\t(crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n\t\t).toString(16)}\n\t);\n}\n\nconst element = document.querySelector('[data-range]');\nvar rslider = new RangeSlider(element, element.dataset);\n\nconst control = document.getElementById('control');\ndocument.getElementById('checkcross').addEventListener('click', function(event) {\n  if(!document.getElementById('checkcross').checked) {  \n  isBlowing=false;\n  } else {\n    isBlowing=true;\n  }\n});\n\nconst control1 = document.getElementById('control1');\n\ndocument.getElementById('updateManual').addEventListener('click', function(event) {\n\tconsole.log(rslider.getSpeed());\n});\n\nvar SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;\nvar SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList;\nvar SpeechRecognitionEvent =\n  SpeechRecognitionEvent || webkitSpeechRecognitionEvent;\n\nvar commands = [\"Start\", \"Stop\",\"Increase\",\"Decrease\",\"Change Mode\"];\nvar grammar =\n  \"#JSGF V1.0; grammar commands; public <command> = \" +\n  commands.join(\" | \") +\n  \" ;\";\n\nvar recognition = new SpeechRecognition();\nvar speechRecognitionList = new SpeechGrammarList();\nspeechRecognitionList.addFromString(grammar, 1);\nrecognition.grammars = speechRecognitionList;\nrecognition.continuous = false;\nrecognition.lang = \"en-US\";\nrecognition.interimResults = false;\nrecognition.maxAlternatives = 1;\n\ncommands.forEach(function (v, i, a) {\n  console.log(v, i);\n});\n\nvar com=\"\";\ncommands.forEach(function (v, i, a) {\n  com +=(i+1)+\") \"+v+\" \";\n});\n\ndocument.getElementById('my-modal-2').onclick = function () {\n  recognition.start();\n  document.getElementById(\"modal-info\").textContent =\n    \"Ready to Receive a Command...\";\n  document.getElementById(\"modal-commands\").textContent = com;\n  console.log(\"Ready to receive a Command.\");\n};\n\nrecognition.onresult = function (event) {\n  // The SpeechRecognitionEvent results property returns a SpeechRecognitionResultList object\n  // The SpeechRecognitionResultList object contains SpeechRecognitionResult objects.\n  // It has a getter so it can be accessed like an array\n  // The first [0] returns the SpeechRecognitionResult at the last position.\n  // Each SpeechRecognitionResult object contains SpeechRecognitionAlternative objects that contain individual results.\n  // These also have getters so they can be accessed like arrays.\n  // The second [0] returns the SpeechRecognitionAlternative at position 0.\n  // We then return the transcript property of the SpeechRecognitionAlternative object\n  var command = event.results[0][0].transcript;\n  command = command.toLowerCase();\n  console.log(\"Command Recived: \" + command);\n  document.getElementById(\"modal-info\").textContent =\n    \"Command Recieved \" + command;\n  if (command === \"start\" && !$(\"#checkcross\").is(\":checked\")) {\n    $(\"#checkcross\").trigger(\"click\");\n    var start = new SpeechSynthesisUtterance();\n    start.text = \"Fan Started\";\n    window.speechSynthesis.speak(start);\n  } else if (command === \"stop\" && $(\"#checkcross\").is(\":checked\")) {\n    $(\"#checkcross\").trigger(\"click\");\n    var stop = new SpeechSynthesisUtterance();\n    stop.text = \"Fan Stopped\";\n    window.speechSynthesis.speak(stop);\n  }\n  else if (command === \"increase\" && $(\"#checkcross\").is(\":checked\")) {\n\t$(\"#auto\").checked = false;\n\trslider.range.stepUp(); \n\trslider.updateCircle();\n    var increase = new SpeechSynthesisUtterance();\n    increase.text = \"Fan Speed Increased to \"+rslider.getSpeed()+\"%\";\n    window.speechSynthesis.speak(increase);\n\t$('#updateManual').trigger('click');\n  }\n  else if (command === \"decrease\" && $(\"#checkcross\").is(\":checked\")) {\n\t$(\"#auto\").checked = false;\n\trslider.range.stepDown(); \n\trslider.updateCircle();\n  var decrease = new SpeechSynthesisUtterance();\n    decrease.text = \"Fan Speed Decreased to \"+rslider.getSpeed()+\"%\";\n    window.speechSynthesis.speak(decrease);\n\t$('#updateManual').trigger('click');\n  }\n  else if(command === \"change mode\")\n  {\n    $(\"#auto\").trigger(\"click\");\n    if($(\"#auto\").is(\":checked\"))\n    {\n      var mode = new SpeechSynthesisUtterance();\n      mode.text = \"Fan Mode is Automatic\";\n      window.speechSynthesis.speak(mode);\n    }\n    else\n    {\n      var mode = new SpeechSynthesisUtterance();\n      mode.text = \"Fan Mode is Manual\";\n      window.speechSynthesis.speak(mode);\n    }\n  }\n  console.log(\"Confidence: \" + event.results[0][0].confidence);\n  recognition.stop();\n};\n\nrecognition.onspeechend = function () {\n  recognition.stop();\n};\n  \n  recognition.onnomatch = function (event) {\n\tconsole.log(\"I didn't recognise that command.\");\n  };\n  \n  recognition.onerror = function (event) {\n\tconsole.log(\"Error occurred in recognition: \" + event.error);\n  };"],"names":["scene","camera","controls","fieldOfView","aspectRatio","nearPlane","farPlane","shadowLight","backLight","light","renderer","planeAspectRatio","container","floor","fan","HEIGHT","WIDTH","windowHalfX","windowHalfY","isBlowing","mousePos","x","y","dist","init","THREE","Scene","window","innerHeight","innerWidth","PerspectiveCamera","aspect","newCameraHeight","Math","tan","MathUtils","degToRad","fov","radToDeg","atan","position","z","lookAt","Vector3","WebGLRenderer","alpha","antialias","setPixelRatio","devicePixelRatio","setSize","shadowMap","enabled","document","getElementById","appendChild","domElement","createLights","HemisphereLight","DirectionalLight","set","castShadow","shadowDarkness","add","createFan","Fan","threegroup","loop","render","xTarget","yTarget","update","requestAnimationFrame","clamp","v","min","max","rule3","vmin","vmax","tmin","tmax","addEventListener","this","speed","acc","redMat","MeshLambertMaterial","color","shading","FlatShading","greyMat","yellowMat","coreGeom","BoxGeometry","sphereGeom","propGeom","applyMatrix4","Matrix4","makeTranslation","core","Mesh","prop1","prop2","clone","rotation","PI","prop3","prop4","sphere","propeller","Group","prototype","tPosX","tPosY","targetSpeed","RangeSlider","element1","settings","Object","assign","clsCircular","clsCircularOutput","clsOutput","clsOutputWrapper","clsRangeTicks","clsWrapper","offset","varPercent","varPercentUpper","varThumb","varUnit","varValue","stringToType","range","initRange","circular","includes","id","uuid","lower","parentNode","querySelector","parseInt","multiplier","output","createElement","ticks","dataset","upper","isMulti","wrapper","className","for","insertBefore","classList","modifier","style","setProperty","getComputedStyle","getPropertyValue","Array","keys","svg","map","index","join","insertAdjacentHTML","hidden","pointerMove","event","updateCircle","rotate","pageX","pageY","setAttribute","key","preventDefault","stepDown","stepUp","removeEventListener","updateRange","rect","getBoundingClientRect","center","left","width","top","height","start1","angle","rad","valueAsNumber","end","value","ceil","checked","innerText","obj","object","forEach","charAt","JSON","parse","slice","replace","c","crypto","getRandomValues","Uint8Array","toString","element","control","control1","console","log","rslider","getSpeed","SpeechRecognition","webkitSpeechRecognition","SpeechGrammarList","webkitSpeechGrammarList","SpeechRecognitionEvent","webkitSpeechRecognitionEvent","commands","grammar","recognition","speechRecognitionList","addFromString","grammars","continuous","lang","interimResults","maxAlternatives","i","a","com","onclick","start","textContent","onresult","command","results","transcript","toLowerCase","$","is","trigger","stop","SpeechSynthesisUtterance","text","speechSynthesis","speak","increase","decrease","mode","confidence","onspeechend","onnomatch"],"version":3,"file":"project.a005bf6f.js.map"}